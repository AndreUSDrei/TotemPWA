@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model IEnumerable<TotemPWA.Models.Product>
@{
    var categorias = ViewBag.Categorias as List<TotemPWA.Models.Category>;
}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedidos</title>
    <link rel="stylesheet" href="/css/tela2.css">


   <link href="https://fonts.googleapis.com/css2?family=Tilt+Warp&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Tilt+Warp&display=swap" rel="stylesheet">
    <script src="~/js/modal.js"></script>
    <style>
        .menu {
            height: calc(100vh - 200px); /* Adjust based on your banner and bottom bar height */
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #888 #f1f1f1;
        }

        .menu::-webkit-scrollbar {
            width: 8px;
        }

        .menu::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .menu::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        .menu::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body>

    <div class="main-container">
        <!-- Menu Lateral -->
        <div class="sidebar">
            <div class="menu-item active">
                <img src="/img/menuburguerimage.png" alt="Lanches">
                <span>Lanches</span>
            </div>
            <div class="menu-item">
                <img src="/img/combos.png" alt="Combos">
                <span>Combos</span>
            </div>
            <div class="menu-item">
                <img src="/img/sobremesa.png" alt="Sobremesas">
                <span>Sobremesas</span>
            </div>
            <div class="menu-item">
                <img src="/img/molhos.png" alt="Molhos">
                <span>Molhos</span>
            </div>
            <div class="menu-item">
                <img src="/img/cupom.png" alt="Promoções">
                <span>Promoções</span>
            </div>
            <div class="menu-item">
                <img src="/img/bebidas.png" alt="Bebidas">
                <span>Bebidas</span>
            </div>
        </div>

        <!-- Conteúdo Principal -->
        <div class="content-area">
            <!-- Banner -->
            <div class="banner">
                <img src="/img/banner.jpg" alt="Banner">
            </div>

            <!-- Categorias -->
            <div class="categories">
                <button class="category-btn active">Todos</button>
                <button class="category-btn">Vegano</button>
                <button class="category-btn">Carne</button>
                <button class="category-btn">Frango</button>
            </div>

            <!-- Grid de Produtos -->
            <div class="products-grid">
                @foreach (var produto in Model)
                {
                    <div class="product-card" onclick="abrirModalEditar(this)" 
                         data-id="@produto.Id" 
                         data-categoria="@produto.CategoryId" 
                         data-nome="@produto.Name"
                         data-preco="@produto.Price"
                         data-imagem="@produto.Image">
                        <div class="product-image">
                            <img src="/@produto.Image" alt="@produto.Name">
                        </div>
                        <div class="product-info">
                            <h3>@produto.Name</h3>
                            <p class="price">R$ @produto.Price.ToString("N2")</p>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>

    <!-- Carrinho Fixo -->
    <div class="cart-bar">
        <div class="cart-info">
            <span>Total:</span>
            <span class="cart-total">R$ 0,00</span>
        </div>
        <div class="cart-buttons">
            <button class="btn-cancel">Cancelar</button>
            <button class="btn-cart"><img src="/img/carrinho-vazio.png" alt="Carrinho"></button>
            <button class="btn-finish">Finalizar</button>
        </div>
    </div>

    <!-- Modal do Carrinho -->
    <div id="modalCarrinho" class="modal">
        <div class="modal-content">
            <span id="fecharModal" class="fechar-modal">&times;</span>
            <h2>Carrinho</h2>  
            <div class="modal-grid">
                    <div class="modal-pedido">
                        <img class="modal-pedido-imagem" src="~/img/menuburguerimage.png" asp-append-version="true" alt="Burguer 404">
                        <h3 class="pedido-titulo">Burguer 404</h3> 
                        <h4 class="pedido-preco">R$ 24,90</h4>
                        <p class="pedido-descricao">Pão de gergelim, cebola, alface, queijo cheddar, dois hambúrgueres de costela 180g...</p>
                    </div>
                    <div class="listaIngredientes">
                        <div class="Ingrediente">
                            <span class="IngredienteNome">Pão</span>
                            <span class="IngredienteQuantidade">1x</span>
                            <button class="botaoAdiciona">+</button>
                            <button class="botaoRemove">-</button>
                        </div>
                        <div class="Ingrediente">
                            <span class="IngredienteNome">Queijo</span>
                            <span class="IngredienteQuantidade">1x</span>
                            <button class="botaoAdiciona">+</button>
                            <button class="botaoRemove">-</button>
                        </div>
                        <div class="Ingrediente">
                            <span class="IngredienteNome">Carne</span>
                            <span class="IngredienteQuantidade">1x</span>
                            <button class="botaoAdiciona">+</button>
                            <button class="botaoRemove">-</button>
                        </div>
                        <div class="Ingrediente">
                            <span class="IngredienteNome">Tomate</span>
                            <span class="IngredienteQuantidade">1x</span>
                            <button class="botaoAdiciona">+</button>
                            <button class="botaoRemove">-</button>
                        </div>
                        <div class="Ingrediente">
                            <span class="IngredienteNome">Alface</span>
                            <span class="IngredienteQuantidade">1x</span>
                            <button class="botaoAdiciona">+</button>
                            <button class="botaoRemove">-</button>
                        </div>
                    </div>
            </div>
        </div>
    </div>

    <script src="~/js/filtroCategorias.js" asp-append-version="true"></script>
    <script src="~/js/modal.js" asp-append-version="true"></script>
    <script src="~/js/modalEdit.js" asp-append-version="true"></script>
    <script>
    function alternarConteudo(tipo) {
        // Esconde todos os conteúdos
        document.getElementById('conteudo-lanches').style.display = 'none';
        document.getElementById('conteudo-sobremesas').style.display = 'none';
        document.getElementById('conteudo-molhos').style.display = 'none';
        document.getElementById('conteudo-ofertas').style.display = 'none';
        document.getElementById('conteudo-bebidas').style.display = 'none';
        document.getElementById('conteudo-extras').style.display = 'none';
        document.getElementById('banner-lanches').style.display = 'none';
        document.getElementById('banner-sobremesas').style.display = 'none';
        document.getElementById('banner-molhos').style.display = 'none';
        document.getElementById('banner-ofertas').style.display = 'none';
        document.getElementById('banner-bebidas').style.display = 'none';
        document.getElementById('banner-extras').style.display = 'none';
        
        // Remove a classe active de todos os itens do menu
        document.querySelectorAll('.menu-item').forEach(item => {
            item.classList.remove('active');
        });
        
        // Mostra o conteúdo selecionado
        document.getElementById('conteudo-' + tipo).style.display = 'block';
        document.getElementById('banner-' + tipo).style.display = 'block';
        
        // Adiciona a classe active ao item do menu clicado
        event.currentTarget.classList.add('active');

        // Atualiza os filtros ativos
        document.querySelectorAll('.nav-categorias a').forEach(link => {
            link.classList.remove('active');
        });
        document.querySelector(`#conteudo-${tipo} .nav-categorias a:first-child`).classList.add('active');
    }
    </script>
</body>
</html>